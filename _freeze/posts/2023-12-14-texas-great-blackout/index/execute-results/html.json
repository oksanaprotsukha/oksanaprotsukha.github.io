{
  "hash": "e912351224868db2fd67b80e6630c21c",
  "result": {
    "markdown": "---\ntitle: \"Analysis of the Impact of Socio-Economic Indicators on Recovery From the 2021 Texas Electric Grid Blackout\"\nformat: html\neditor: visual\nauthor: \n  - name: Oksana Protsukha\n    url: https://oksanaprotsukha.github.io/portfolio/\n    orcid: \n    affiliation: Master of Environmental Data Science Program\n    affiliation-url: https://ucsb-meds.github.io\ndate: 2023-12-14\ncategories: [geospatial,energy,environmental justice,R]\ntitle-block-banner: texas_grid.jpeg\n---\n\n\n## Overview\n\n### Background\n\nDuring the period from February 13 to 20, 2021, the southwest U.S. experienced an unusual winter storm, \"Uri.\" Texas was particularly badly impacted due to a combination of multiple factors. Importantly, Texas's electricity is supplied by the intra-state grid operator ERCOT, not connected to the other two major grids that serve the United States and Canada. During the winter storm, ERCOT lost almost half of its generation capacity and didn't have the infrastructure to tap into the resources of the other two grids. As a result, major blackouts during February 15-18, 2021 left more than 10 million people without electricity at the peak of the winter storm, with some enduring several days without power. Services dependent on electricity, such as drinking water treatment and medical services, were affected as well. More than 200 people died directly or indirectly as a result of the crisis \\[2\\].\n\nAccording to the [report](https://energy.utexas.edu/sites/default/files/UTAustin%20%282021%29%20EventsFebruary2021TexasBlackout%2020210714.pdf)\\[1\\] produced by The University of Texas at Austin, the outages were caused by multiple factors, including but not limited to:\\\n\n-   All types of generation technologies failed.\\\n-   Demand forecasts for severe winter storms were too low.\\\n-   Some power generators were inadequately weatherized.\\\n-   Failures within the natural gas system.\\\n-   Natural gas in storage was limited.\\\n\nThe Texas grid didn't return to normal operations until Friday, February 19.\n\n### Objective\n\nIn this analysis, I explored whether socio-economic factors, specifically household income, influenced the recovery of electricity services in impacted neighborhoods.\n\n**Research question**: Did census tracts within low-income quintiles experience more delays in the recovery of electricity services compared to those in higher income levels?\n\n### Data\n\nThe analysis is based on four datasets.\n\n#### Dataset 1: Night Lights (VIIRS data)\n\nVisible Infrared Imaging Radiometer Suite (VIIRS) data of Houston, TX from 2021-02-07 and 2021-02-16 from NASA's [Level-1 and Atmospheric Archive & Distribution System Distributed Active Archive Center (LAADS DAAC)](https://ladsweb.modaps.eosdis.nasa.gov/) \\[3\\]\n\n**Note**: Many NASA Earth data products are distributed in 10x10 degree tiles in sinusoidal equal-area projection. Tiles are identified by their horizontal and vertical position in the grid. Houston lies on the border of tiles h08v05 and h08v06, requiring the analysis of two tiles for each day.\n\nProcessed data is available in `VNP46A1` folder.\\\n\n-   `VNP46A1.A2021038.h08v05.001.2021039064328.h5.tif`: tile h08v05, collected on 2021-02-07\\\n-   `VNP46A1.A2021038.h08v06.001.2021039064329.h5.tif`: tile h08v06, collected on 2021-02-07\\\n-   `VNP46A1.A2021047.h08v05.001.2021048091106.h5.tif`: tile h08v05, collected on 2021-02-16\\\n-   `VNP46A1.A2021047.h08v06.001.2021048091105.h5.tif`: tile h08v06, collected on 2021-02-16\n\n#### Dataset 2: Roads (shapefiles)\n\nA Geopackage (`.gpkg` file) containing just the subset of roads that intersect the Houston metropolitan area. Source data: [Geofabrik's download sites](https://download.geofabrik.de/) \\[4\\]\n\n-   `gis_osm_roads_free_1.gpkg`\n\n#### Dataset 3: Houses (shapefiles)\n\nA Geopackage (`.gpkg` file) containing only houses in the Houston metropolitan area. Source data: [Geofabrik's download sites](https://download.geofabrik.de/) \\[4\\]\n\n-   `gis_osm_buildings_a_free_1.gpkg`\n\n#### Dataset 4: Socioeconomic Indicators (ArcGIS)\n\nData from the [U.S. Census Bureau's American Community Survey](https://www.census.gov/programs-surveys/acs) for census tracts in 2019 \\[5\\].\n\nThe *folder* `ACS_2019_5YR_TRACT_48.gdb` is an ArcGIS [\"file geodatabase\"](https://desktop.arcgis.com/en/arcmap/latest/manage-data/administer-file-gdbs/file-geodatabases.htm), a multi-file proprietary format that's roughly analogous to a GeoPackage file \\[6\\].\\\n\n[ACS metadata](https://www2.census.gov/geo/docs/maps-data/data/tiger/prejoined/ACSMetadata2011.txt).\n\n### Approach\n\nI relied on geospatial data and tools to identify locations impacted by the blackouts. Specifically, I used raster and vector data (refer to the Data section) to visualize the correlation between the blackouts and households income.\n\n### Limitations\n\n-   The scope of the analysis was limited to Houston metropolitan area.\\\n-   Analysis was done only for one day (February 16th 2021) out of 4-5 days of the total blackout period.\n-   Only income was considered in the analysis.\n\n## Analysis\n\nThe next few sections provide the steps I applied to complete the analysis. The code is available in the github repository: [texas-grid-blackout-2021](https://github.com/oksanaprotsukha/texas-grid-blackout-2021.git)\n\n#### Setup\n\nI used the following libraries throughout the analysis:\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nknitr::opts_chunk$set(echo = TRUE)\n\n# load libararies\nlibrary(sf)\nlibrary(raster)\nlibrary(stars)\nlibrary(terra)\nlibrary(spData)\nlibrary(spDataLarge)\nlibrary(ggspatial)\n\nlibrary(tidyverse)\nlibrary(here)\nlibrary(patchwork)\nlibrary(RColorBrewer)\nlibrary(ggthemes)\n\nrm(list = ls())\n```\n:::\n\n\n#### Identifying Blackout Locations\n\nAs the first step in the analysis, I identified the areas affected by blackouts in the Houston Metropolitan Area on February 16, 2021. To do so, I compared the light intensity data before the storm on February 7, 2021, with the data during the blackout event February 16, 2021, using VIIRS data.\n\n**Assumption**: any location that experienced a drop of more than 200 nW cm^-2^sr^-1^ experienced a blackout.\n\nI loaded satellite raster data (files with extention `*.tif`) using `stars` package:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Load data\nnt_20210207_tile5 <- read_stars('data/VNP46A1/VNP46A1.A2021038.h08v05.001.2021039064328.tif')\nnt_20210207_tile6 <- read_stars('data/VNP46A1/VNP46A1.A2021038.h08v06.001.2021039064329.tif')\nnt_20210207 <- st_mosaic(nt_20210207_tile5, nt_20210207_tile6) # combine two tiles\n\nnt_20210216_tile5 <- read_stars('data/VNP46A1/VNP46A1.A2021047.h08v05.001.2021048091106.tif')\nnt_20210216_tile6 <- read_stars('data/VNP46A1/VNP46A1.A2021047.h08v06.001.2021048091105.tif')\nnt_20210216 <- st_mosaic(nt_20210216_tile5, nt_20210216_tile6) # combine two tiles\n```\n:::\n\n\nNext, I created a raster with the difference in light intensity between February 7 and 16, 2021 and reclassified it to the locations that experienced a drop in light intensity of more than 200 nW cm^-2^sr^-1^.\\\n- All locations that experienced a drop of *200 or less* nW cm^-2^sr^-1^ were assigned `NA`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a mask with blackout locations\nblkout <- (nt_20210207 - nt_20210216) > 200 \n\n# set locations that didn't experience blackout to NA \nblkout[blkout == FALSE] <- NA \n```\n:::\n\n\nTo proceed, I narrowed down the blackout locations to the Houston metropolitan area by cropping the blackout raster to Houston metropolitan area.  To do so I converted the raster with the blackout locations into an `sf` object and constructed a `polygon` with Houston boundaries.\\\n\n⚠️To maintain an accuracy of analysis I applied EPSG: 3083 (NAD83 / Texas Centric Albers Equal Area) projection for the cropped blackout dataset, specifically the dataframe with Houston metropolitan area geometries.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# convert blackout mask to sf object\nblkout_sf <- blkout %>%\n  st_as_sf() %>%\n  st_make_valid()  # fix invalid geometries\n\n# define coordinates of the Houston metropolitan area\nhstn_coords <- rbind(c(-96.5, 29), \n                     c(-96.5, 30.5), \n                     c(-94.5, 30.5), \n                     c(-94.5, 29),\n                     c(-96.5, 29))  \n\n# create a polygon of the Houston area \nhstn <- st_polygon(list(hstn_coords)) %>% \n  st_sfc(crs = \"EPSG:4326\")\n\n# crop the blackout mask to the Houston area\nhstn_blkout <- blkout_sf[hstn, ] %>% \n  st_transform(crs = \"EPSG:3083\") \n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/plot_blackout_intensity-1.png){width=672}\n:::\n:::\n\n\n#### Exluding roads from the area of interest\n\nHighways in the United States are commonly lit during the night, contributing in a large proportion to the lights visible from space. However, the highways and the area adjustent to them don't have any households, and therefore can distort the analysis results by mistakenly identifying areas with reduced traffic as areas without power. To minimize the error, I excluded any areas within **200-meter radius** of all highways from the analysis.\n\nI used the following sql query to load the roads dataset from `gis_osm_roads_free_1.gpkg`:\n\n```         \nquery <- \"SELECT * FROM gis_osm_roads_free_1 WHERE fclass='motorway'\"\n```\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# read data from SQL\nquery <- \"SELECT * FROM gis_osm_roads_free_1 WHERE fclass = 'motorway'\"\n\nhighways <- st_read(\"data/gis_osm_roads_free_1.gpkg\", \n                    query = query,\n                    quiet = TRUE) %>% \n  select('geom') %>% # keep only geometries\n  st_transform(crs = st_crs(hstn_blkout)) # reproject highways dataframe to the crs of Houston blackout dataframe\n\n# verify the CRS are the same\nprint(paste0('CRS of of the highways and Houston blackout dataframes match: ', \n             crs_match <- st_crs(highways) == st_crs(hstn_blkout)))\n```\n:::\n\n\nIn the following step, I determined the areas within **200-meter radius** and excluded these areas from the main Houston blackout dataset using spatial subsetting.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a buffer of 200 m around highways\nhwy_buffer <- st_buffer(highways, dist = 200) %>% \n  st_union() # dissolve buffers\n\n# find areas that experienced blackouts and are further than 200m from a highway\nhstn_blkout_no_hwy <- st_difference(hstn_blkout, hwy_buffer)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/plot_blackout_no_hwy-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n#### Indentifying homes impacted by blackouts\n\nMoving on, I identified the population of homes affected by the blackouts to explore the extent to which socio-economic factors played a role in the recovery.\n\nI used the following sql query to load the roads dataset from `gis_osm_buildings_a_free_1.gpkg`:\n\n```         \nSELECT *  FROM gis_osm_buildings_a_free_1\nWHERE (type IS NULL AND name IS NULL)\nOR type in ('residential', 'apartments', 'house', 'static_caravan', 'detached')\n```\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# read data from SQL\nquery_bldg <- (\"SELECT * FROM gis_osm_buildings_a_free_1\n               WHERE (type IS NULL AND name IS NULL)\n               OR type IN ('residential', 'apartments', 'house', 'static_caravan', 'detached')\")\n\nbldg <- st_read(\"data/gis_osm_buildings_a_free_1.gpkg\", \n                query = query_bldg,\n                quiet = TRUE) %>% \n  st_transform(crs = \"EPSG:3083\")\n\n# verify the CRS are the same\nprint(paste0('CRS of of the builduings and Houston blackout dataframes match: ', \n             crs_match <- st_crs(bldg) == st_crs(hstn_blkout_no_hwy)))\n```\n:::\n\n\nTo obtain the population of homes affected by the blackouts in the Houston metropolitan area, I subsetted the buildings dataset using the resulting dataframe from the prior step (an `sf` dataframe indicating blackouts in the Houston metropolitan area beyond a 200-meter radius from highways).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# filter homes within blackout areas\nbldg_blkout <- bldg[hstn_blkout_no_hwy, ] \n```\n:::\n\n::: {.cell}\n\n:::\n\n\n#### Analyzing the impact of socioeconomic factors on recovery\n\nFinally, I analyzed whether households income played a role on the recovery from the power outage. As a socio-economic indicator I used the income data from the 2019 US Census Tract.\n\nI loaded data using `st_read` function from the `sf` library:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# read in geometries data\nct_geom <- st_read('data/ACS_2019_5YR_TRACT_48_TEXAS.gdb', \n                   layer = 'ACS_2019_5YR_TRACT_48_TEXAS',\n                   quiet = TRUE) %>% \n  st_transform(crs = 'EPSG:3083') %>% \n  filter(COUNTYFP %in% c(339, 291, 167, 015, 039, 071, 157, 201, 473)) # Filter Houston counties\n\n# read in income data \nct_income <- st_read('data/ACS_2019_5YR_TRACT_48_TEXAS.gdb', \n                     layer = 'X19_INCOME',\n                     quiet = TRUE) %>% \n  select(GEOID,median_income = B19013e1) \n```\n:::\n\n\nIn the following step, I joined the income data on the impacted homes dataset to determine the total number of homes impacted by the blackouts.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#join the income data to the census tract geometries\nct_income <- dplyr::left_join(ct_geom, ct_income,\n                              by = c(\"GEOID_Data\" = \"GEOID\")) %>%\n  st_transform(crs = \"EPSG:3083\")\n\n# spatially join census tract data with buildings impacted by blackouts\nhstn_ct_blkout <- st_join(ct_income, \n                          bldg_blkout, \n                          left = TRUE) %>% \n  group_by(NAME) %>% \n  summarise(blackout = any(!is.na(osm_id)), \n         median_income = first(median_income))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# get the count of census tracts impacted by blackouts\nct_blkout_tot_impacted <- hstn_ct_blkout %>% \n  filter(blackout == TRUE) %>% \n  summarise(total = n())\n\ncat(\"Total census tracts in Houston area impacted by the blackouts:\",\n    ct_blkout_tot_impacted$total)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTotal census tracts in Houston area impacted by the blackouts: 717\n```\n:::\n:::\n\n\n### Results\n\nI've visualized the analysis results using the following representations:\n\n-   a map illustrating the distribution of median income across census tracts, highlighting areas affected by blackouts.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# define income quintiles\nquintiles <- quantile(hstn_ct_blkout$median_income, \n                      probs = seq(0, 1, by = 0.2), na.rm = TRUE)\nquintiles_labs <- c('20%', '40%' ,'60%', '80%','100%')\n\n\n# create a new variable with quintile labels\nhstn_ct_blkout$income_quintile <- cut(hstn_ct_blkout$median_income, \n                          breaks = quintiles, \n                          labels = quintiles_labs, \n                          include.lowest = TRUE)\n\ncolor_palette <- brewer.pal(length(quintiles_labs), \"YlGn\")\n\n# create centroids for census tract impacted by blackout\nct_centroids <- hstn_ct_blkout %>% \n  filter(blackout == TRUE) %>% \n  st_centroid()\n\n# plot a map\nm1 <- ggplot() +\n  geom_sf(data = hstn_ct_blkout, aes(fill = income_quintile), alpha = 0.8) +\n  scale_fill_manual(values = setNames(color_palette, quintiles_labs),\n                    name = 'Income Quintiles') +\n  geom_sf(data = ct_centroids, size = 0.5, color = '#000080', alpha = 0.8) +\n  labs(\n    title = 'Impact of February 2021 Blackout in Houston, TX',\n    subtitle = 'Median Income Distribution by Census Tract') +\n  theme_map() +\n  theme(legend.position = \"right\")\nm1\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/blackout_by_income_map-1.png){width=672}\n:::\n:::\n\n\n-   a histogram that compares impacted vs non-impacted census tracts by the income level:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Plot histogram\nhist <- hstn_ct_blkout %>% \n  ggplot(aes(x = median_income, fill = blackout)) +\n  xlab('Median Income') +\n  geom_histogram(binwidth = 1000) +\n  labs(\n    title = 'Income Distribution by Census Tract',\n    subtitle = 'Comparison between Census Tracts Impacted and Not Impacted by Blackouts',\n    fill = 'Impacted by Blackouts'\n  ) +\n  theme_minimal()\n\nhist\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/hist-1.png){width=672}\n:::\n:::\n\n\n#### Findings\n\nAccording to the analysis results, households across all levels of income distribution were affected by the blackouts. Those in the lowest income distribution were more likely to experience the impact than not. This is unsurprising, considering that the outage was caused by a rare winter storm event for which grid operators were not prepared. Any household connected to the grid was affected by the blackouts.\n\nAdditional analysis is required to understand whether lower income households were disproportionately impacted by the outage. Specifically, we need to examine the speed at which grid services were restored in the impacted census tracts and whether socioeconomic factors played a role.\n\nThe primary limitation of the analysis is the lack of data on household activities for the duration of blackouts. Additionally, it does not incorporate other socioeconomic factors, such as education and race.\n\n### Next steps\n\n1.  Extend the analysis to the rest of the period of the blackouts: February 15-19, 2021.\n2.  Include other socio-economic indicators: unemployment rate, race, education level.\n\n#### Attribution\n\nThe analysis was completed as part of the \\[Geospatial Analysis & Remote\\] Sensing(https://ryoliver.github.io/EDS_223_spatial_analysis/) coursework.\\\n\nThe data was prepared by [Dr. Ruth Oliver](https://bren.ucsb.edu/people/ruth-oliver), Bren School of Environmental Science & Management, University of California, Santa Barbara\n\n#### Citations\n\n\\[1\\] UTAustin (2021) [EventsFebruary2021TexasBlackout 20210714.Pdf.](https://energy.utexas.edu/sites/default/files/UTAustin%20%282021%29%20EventsFebruary2021TexasBlackout%2020210714.pdf) Accessed 15 Dec. 2023.\\\n\\[2\\] Svitek, Patrick. \"Texas Puts Final Estimate of Winter Storm Death Toll at 246.\" The Texas Tribune, 2 Jan. 2022, www.texastribune.org/2022/01/02/texas-winter-storm-final-death-toll-246. Accessed 13 Nov. 2023.\\\n\\[3\\] Level-1 and Atmosphere Archive & Distribution System Distributed Active Archive Center - LAADS DAAC. https://ladsweb.modaps.eosdis.nasa.gov/. Accessed 15 Dec. 2023.\\\n\\[4\\] Geofabrik Download Server. https://download.geofabrik.de/. Accessed 15 Dec. 2023.\\\n\\[5\\] https://www.census.gov/programs-surveys/acs\\\n\\[6\\] https://desktop.arcgis.com/en/arcmap/latest/manage-data/administer-file-gdbs/file-geodatabases.htm\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}